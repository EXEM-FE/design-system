#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# í¬ë§·íŒ… ë¨¼ì € ì‹¤í–‰
echo "ğŸ¨ Formatting code..."
pnpm format

# í¬ë§·íŒ…ëœ íŒŒì¼ë“¤ ë‹¤ì‹œ ìŠ¤í…Œì´ì§•
git add .

# ë¦°íŒ… ì‹¤í–‰ (Biomeì´ ìë™ìœ¼ë¡œ dist í´ë” ë¬´ì‹œ)
echo "ğŸ” Linting code..."
pnpm lint:fix || {
    echo "âš ï¸  Some lint issues remain (auto-generated files ignored)"
    exit 0
}

# íƒ€ì… ì²´í¬ ì‹¤í–‰  
echo "ğŸ”§ Type checking..."
pnpm typecheck

echo "âœ… Pre-commit checks passed!"
